<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="pawn_order_form" language="groovy" pageWidth="841" pageHeight="595" orientation="Landscape" columnWidth="841" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="1093"/>
	<property name="OPENERP_RELATIONS" value="[&quot;order_line&quot;]"/>
	<style name="table">
		<box>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<queryString language="xPath">
		<![CDATA[/data/record]]>
	</queryString>
	<field name="id" class="java.lang.Integer">
		<fieldDescription><![CDATA[id]]></fieldDescription>
	</field>
	<field name="amount_pawned" class="java.lang.Number">
		<fieldDescription><![CDATA[amount_pawned]]></fieldDescription>
	</field>
	<field name="name" class="java.lang.String">
		<fieldDescription><![CDATA[order_line/name]]></fieldDescription>
	</field>
	<field name="product_qty" class="java.lang.Number">
		<fieldDescription><![CDATA[order_line/product_qty]]></fieldDescription>
	</field>
	<field name="product_uom" class="java.lang.String">
		<fieldDescription><![CDATA[order_line/product_uom/name]]></fieldDescription>
	</field>
	<field name="doc_name" class="java.lang.String">
		<fieldDescription><![CDATA[name]]></fieldDescription>
	</field>
	<field name="date_order" class="java.util.Date">
		<fieldDescription><![CDATA[date_order]]></fieldDescription>
	</field>
	<field name="date_due_ticket" class="java.util.Date">
		<fieldDescription><![CDATA[date_due_ticket]]></fieldDescription>
	</field>
	<field name="cust_name" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/name]]></fieldDescription>
	</field>
	<field name="partner_title" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/partner_title]]></fieldDescription>
	</field>
	<field name="address" class="java.lang.String">
		<fieldDescription><![CDATA[address]]></fieldDescription>
	</field>
	<field name="card_type" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/card_type]]></fieldDescription>
	</field>
	<field name="card_number" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/card_number]]></fieldDescription>
	</field>
	<field name="issue_date" class="java.util.Date">
		<fieldDescription><![CDATA[partner_id/issue_date]]></fieldDescription>
	</field>
	<field name="expiry_date" class="java.util.Date">
		<fieldDescription><![CDATA[partner_id/expiry_date]]></fieldDescription>
	</field>
	<field name="date_expired" class="java.util.Date">
		<fieldDescription><![CDATA[date_expired]]></fieldDescription>
	</field>
	<field name="age" class="java.lang.Number">
		<fieldDescription><![CDATA[partner_id/age]]></fieldDescription>
	</field>
	<field name="nationality" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/country_id/name]]></fieldDescription>
	</field>
	<field name="monthly_interest" class="java.lang.Number">
		<fieldDescription><![CDATA[monthly_interest]]></fieldDescription>
	</field>
	<field name="book" class="java.lang.Number">
		<fieldDescription><![CDATA[book]]></fieldDescription>
	</field>
	<field name="number" class="java.lang.Number">
		<fieldDescription><![CDATA[number]]></fieldDescription>
	</field>
	<field name="pawnshop" class="java.lang.String">
		<fieldDescription><![CDATA[pawn_shop_id/name]]></fieldDescription>
	</field>
	<field name="prev_date_order" class="java.util.Date">
		<fieldDescription><![CDATA[parent_id/date_order]]></fieldDescription>
	</field>
	<field name="prev_book" class="java.lang.Number">
		<fieldDescription><![CDATA[parent_id/book]]></fieldDescription>
	</field>
	<field name="prev_number" class="java.lang.Number">
		<fieldDescription><![CDATA[parent_id/number]]></fieldDescription>
	</field>
	<field name="profit_center" class="java.lang.Integer">
		<fieldDescription><![CDATA[journal_id/profit_center]]></fieldDescription>
	</field>
	<field name="reg_book" class="java.lang.String">
		<fieldDescription><![CDATA[pawn_shop_id/reg_book]]></fieldDescription>
	</field>
	<field name="reg_number" class="java.lang.String">
		<fieldDescription><![CDATA[pawn_shop_id/reg_number]]></fieldDescription>
	</field>
	<field name="item_description" class="java.lang.String">
		<fieldDescription><![CDATA[item_description]]></fieldDescription>
	</field>
	<field name="carat" class="java.lang.Number">
		<fieldDescription><![CDATA[order_line/carat]]></fieldDescription>
	</field>
	<field name="gram" class="java.lang.Number">
		<fieldDescription><![CDATA[order_line/gram]]></fieldDescription>
	</field>
	<field name="is_jewelry" class="java.lang.Boolean">
		<fieldDescription><![CDATA[order_line/is_jewelry]]></fieldDescription>
	</field>
	<field name="create_time" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[create_date]]></fieldDescription>
	</field>
	<field name="fingerprint" class="java.lang.String">
		<fieldDescription><![CDATA[fingerprint_pawn]]></fieldDescription>
	</field>
	<field name="company_name" class="java.lang.String">
		<fieldDescription><![CDATA[company_id/name]]></fieldDescription>
	</field>
	<field name="company_street" class="java.lang.String">
		<fieldDescription><![CDATA[company_id/street]]></fieldDescription>
	</field>
	<field name="company_vat" class="java.lang.String">
		<fieldDescription><![CDATA[company_id/vat]]></fieldDescription>
	</field>
	<field name="company_phone" class="java.lang.String">
		<fieldDescription><![CDATA[company_id/phone]]></fieldDescription>
	</field>
	<field name="partner_name" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/name]]></fieldDescription>
	</field>
	<field name="partner_country" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/country_id/name]]></fieldDescription>
	</field>
	<field name="partner_address" class="java.lang.String">
		<fieldDescription><![CDATA[partner_id/address_full]]></fieldDescription>
	</field>
	<field name="parent_book" class="java.lang.String">
		<fieldDescription><![CDATA[parent_id/book]]></fieldDescription>
	</field>
	<field name="parent_number" class="java.lang.String">
		<fieldDescription><![CDATA[parent_id/number]]></fieldDescription>
	</field>
	<field name="parent_date_order" class="java.util.Date">
		<fieldDescription><![CDATA[parent_id/date_order]]></fieldDescription>
	</field>
	<variable name="product_qty" class="java.lang.Number" calculation="Sum">
		<variableExpression><![CDATA[$F{product_qty}]]></variableExpression>
	</variable>
	<variable name="item_name" class="java.lang.String">
		<variableExpression><![CDATA[$F{is_jewelry} == true
? $F{name} + (
    $F{carat} != null && $F{gram} != null ? " [น้ำหนัก " + $F{carat}.toString() + " กะรัต, " + $F{gram}.toString() + " กรัม]" :
    $F{carat} != null && $F{gram} == null ? " [น้ำหนัก " + $F{carat}.toString() + " กะรัต]" :
    $F{carat} == null && $F{gram} != null ? " [น้ำหนัก " + $F{gram}.toString() + " กรัม]" : ""
)
: $F{name}]]></variableExpression>
	</variable>
	<variable name="carat_sum" class="java.lang.Number" calculation="Sum">
		<variableExpression><![CDATA[$F{carat}]]></variableExpression>
	</variable>
	<variable name="gram_sum" class="java.lang.Number" calculation="Sum">
		<variableExpression><![CDATA[$F{gram}]]></variableExpression>
	</variable>
	<background>
		<band height="595" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="768" y="389" width="17" height="114" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="Left" markup="html">
					<font fontName="Monospaced" size="12" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{doc_name}.substring($F{doc_name}.length() - 6)]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="828" y="365" width="17" height="138"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="Left">
					<font fontName="Monospaced" size="10" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{date_order}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" x="808" y="370" width="17" height="133" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="Left">
					<font fontName="Monospaced" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{amount_pawned}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="818" y="177" width="17" height="27" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="Left" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{parent_book}.length() == 1 ? "00" + $F{parent_book} : (
    $F{parent_book}.length() == 2 ? "0" + $F{parent_book} : (
    $F{parent_book}.length() == 3 ? $F{parent_book} : "")))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="818" y="114" width="17" height="27" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="Left" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{parent_number}.length() == 1 ? "00" + $F{parent_number} : (
    $F{parent_number}.length() == 2 ? "0" + $F{parent_number} : (
    $F{parent_number}.length() == 3 ? $F{parent_number} : "")))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="818" y="11" width="17" height="65"/>
				<textElement verticalAlignment="Middle" rotation="Left">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{parent_date_order}]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement x="765" y="24" width="11" height="124"/>
				<jr:barbecue xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" type="Code128" drawText="false" checksumRequired="false" barWidth="0" barHeight="0" rotation="Left">
					<jr:codeExpression><![CDATA[$F{doc_name}]]></jr:codeExpression>
				</jr:barbecue>
			</componentElement>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement positionType="Float" x="69" y="4" width="114" height="17" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="18" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{book} < 10 ? "00" + $F{book}.toString() : (
    $F{book} < 100 ? "0" + $F{book}.toString() : $F{book}.toString()))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="324" y="4" width="114" height="17" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="18" isBold="true" isItalic="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{number} < 10 ? "00" + $F{number}.toString() : (
    $F{number} < 100 ? "0" + $F{number}.toString() : $F{number}.toString()))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="427" y="4" width="114" height="17" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="18" isBold="true" isItalic="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{book} < 10 ? "00" + $F{book}.toString() : (
    $F{book} < 100 ? "0" + $F{book}.toString() : $F{book}.toString()))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="688" y="4" width="114" height="17" forecolor="#000000"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="18" isBold="true" isItalic="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{number} < 10 ? "00" + $F{number}.toString() : (
    $F{number} < 100 ? "0" + $F{number}.toString() : $F{number}.toString()))]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="210" y="91" width="59" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{reg_book}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="269" y="87" width="85" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{reg_number}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="576" y="89" width="59" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{reg_book}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="630" y="86" width="92" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{reg_number}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="80" y="131" width="150" height="17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="14" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{date_order}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="HH:mm น." isBlankWhenNull="true">
				<reportElement positionType="Float" x="237" y="131" width="118" height="17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[new java.sql.Timestamp($F{create_time}.getTime()+(25200000).longValue())]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="188" y="131" width="166" height="17" forecolor="#000000"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{parent_book} != "" ? "(ส่งดอก)" :
"(ตั๋วจำนำใหม่)"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="64" y="150" width="187" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="12" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{partner_title} == "mr" ? "นาย" : (
    $F{partner_title} == "mrs" ? "นาง" : (
	$F{partner_title} == "miss" ? "นางสาว" : (
	$F{partner_title} == "company" ? "บริษัท" : (
	$F{partner_title} == "partnership" ? "ห้างหุ้นส่วน" : ""))))
) + " " + $F{partner_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="245" y="151" width="37" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{age}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="64" y="170" width="318" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{partner_address}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="240" y="189" width="145" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{card_number}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="91" y="189" width="112" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{card_type}.equals("citizen") ? "หมายเลขประชาชน" :
$F{card_type}.equals("officer") ? "หมายเลขข้าราชการ" :
$F{card_type}.equals("driving") ? "หมายเลขใบขับขี่" :
$F{card_type}.equals("passport") ? "หมายเลขหนังสือเดินทาง" :
$F{card_type}.equals("certificate") ? "หนังสือรับรอง" : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="91" y="208" width="96" height="17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{issue_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="313" y="151" width="69" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{partner_country}.equals("Thailand") ? "ไทย" : $F{partner_country}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="240" y="208" width="108" height="17">
					<printWhenExpression><![CDATA[new Integer($F{expiry_date}.getYear() + 2443) >= 9999]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["ตลอดชีพ"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="240" y="208" width="108" height="17">
					<printWhenExpression><![CDATA[new Integer($F{expiry_date}.getYear() + 2443) < 9999]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{expiry_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="216" y="423" width="169" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Monospaced" size="14" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{amount_pawned}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="251" y="443" width="98" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Monospaced" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{monthly_interest}]]></textFieldExpression>
			</textField>
			<textField pattern="dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement x="235" y="533" width="168" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Monospaced" size="12" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{date_due_ticket}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="127" y="396" width="234" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="html">
					<font fontName="Monospaced" size="10" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["("+(new Scriptlet()).getAmtInWords((new BigDecimal(($F{amount_pawned}==null?0.00:$F{amount_pawned}).toString())).setScale(2).toString(),"THB")+")"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Report" pattern="#,##0" isBlankWhenNull="false">
				<reportElement positionType="Float" x="48" y="420" width="40" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="Monospaced" size="14" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$V{product_qty}]]></textFieldExpression>
			</textField>
			<image hAlign="Center" vAlign="Top" isUsingCache="true" isLazy="true">
				<reportElement x="186" y="506" width="55" height="55">
					<printWhenExpression><![CDATA[$F{fingerprint} != false && $F{fingerprint} != null && $F{fingerprint} != '']]></printWhenExpression>
				</reportElement>
				<imageExpression class="java.lang.String"><![CDATA[$F{fingerprint}]]></imageExpression>
			</image>
			<textField isStretchWithOverflow="true" pattern="dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="454" y="131" width="150" height="17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="14" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{date_order}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="558" y="131" width="166" height="17" forecolor="#000000"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{parent_book} != "" ? "(ส่งดอก)" :
"(ตั๋วจำนำใหม่)"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Report" pattern="#,##0" isBlankWhenNull="false">
				<reportElement positionType="Float" x="419" y="420" width="40" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="Monospaced" size="14" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$V{product_qty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="608" y="208" width="108" height="17">
					<printWhenExpression><![CDATA[new Integer($F{expiry_date}.getYear() + 2443) >= 9999]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["ตลอดชีพ"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="457" y="189" width="112" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{card_type}.equals("citizen") ? "หมายเลขประชาชน" :
$F{card_type}.equals("officer") ? "หมายเลขข้าราชการ" :
$F{card_type}.equals("driving") ? "หมายเลขใบขับขี่" :
$F{card_type}.equals("passport") ? "หมายเลขหนังสือเดินทาง" :
$F{card_type}.equals("certificate") ? "หนังสือรับรอง" : ""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="434" y="150" width="187" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="12" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{partner_title} == "mr" ? "นาย" : (
    $F{partner_title} == "mrs" ? "นาง" : (
	$F{partner_title} == "miss" ? "นางสาว" : (
	$F{partner_title} == "company" ? "บริษัท" : (
	$F{partner_title} == "partnership" ? "ห้างหุ้นส่วน" : ""))))
) + " " + $F{partner_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="608" y="443" width="98" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Monospaced" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{monthly_interest}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="608" y="189" width="143" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{card_number}]]></textFieldExpression>
			</textField>
			<image hAlign="Center" vAlign="Top" isUsingCache="true" isLazy="true">
				<reportElement x="534" y="506" width="55" height="55">
					<printWhenExpression><![CDATA[$F{fingerprint} != false && $F{fingerprint} != null && $F{fingerprint} != '']]></printWhenExpression>
				</reportElement>
				<imageExpression class="java.lang.String"><![CDATA[$F{fingerprint}]]></imageExpression>
			</image>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="573" y="423" width="169" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Monospaced" size="14" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{amount_pawned}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="457" y="208" width="96" height="17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{issue_date}]]></textFieldExpression>
			</textField>
			<textField pattern="dd MMMMM yyyy" isBlankWhenNull="true">
				<reportElement x="602" y="533" width="168" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Monospaced" size="12" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{date_due_ticket}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement positionType="Float" x="608" y="208" width="108" height="17">
					<printWhenExpression><![CDATA[new Integer($F{expiry_date}.getYear() + 2443) < 9999]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{expiry_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement positionType="Float" x="489" y="396" width="241" height="17" forecolor="#000000"/>
				<textElement textAlignment="Center" verticalAlignment="Top" markup="html">
					<font fontName="Monospaced" size="10" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["("+(new Scriptlet()).getAmtInWords((new BigDecimal(($F{amount_pawned}==null?0.00:$F{amount_pawned}).toString())).setScale(2).toString(),"THB")+")"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="615" y="151" width="37" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{age}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="431" y="170" width="318" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{partner_address}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="683" y="151" width="69" height="17"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{partner_country}.equals("Thailand") ? "ไทย" : $F{partner_country}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="HH:mm น." isBlankWhenNull="true">
				<reportElement positionType="Float" x="604" y="131" width="118" height="17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[new java.sql.Timestamp($F{create_time}.getTime()+(25200000).longValue())]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" evaluationTime="Report" isBlankWhenNull="false">
				<reportElement positionType="Float" x="788" y="321" width="17" height="182"/>
				<textElement verticalAlignment="Middle" rotation="Left">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{product_qty}.intValue() + (
    $V{carat_sum} != null && $V{gram_sum} != null ? " (นน. " + (new BigDecimal(($V{gram_sum}==null?0.00:$V{gram_sum}).toString())).setScale(2).toString() + " กรัม)" :
    $V{carat_sum} != null && $V{gram_sum} == null ? "" :
    $V{carat_sum} == null && $V{gram_sum} != null ? " (นน. " + (new BigDecimal(($V{gram_sum}==null?0.00:$V{gram_sum}).toString())).setScale(2).toString() + " กรัม)" : ""
)]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement x="729" y="18" width="11" height="124"/>
				<jr:barbecue xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" type="Code128" drawText="false" checksumRequired="false" barWidth="0" barHeight="0" rotation="Left">
					<jr:codeExpression><![CDATA[$F{doc_name}]]></jr:codeExpression>
				</jr:barbecue>
			</componentElement>
			<componentElement>
				<reportElement x="358" y="18" width="11" height="124"/>
				<jr:barbecue xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" type="Code128" drawText="false" checksumRequired="false" barWidth="0" barHeight="0" rotation="Left">
					<jr:codeExpression><![CDATA[$F{doc_name}]]></jr:codeExpression>
				</jr:barbecue>
			</componentElement>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="780" y="4" width="40" height="376">
					<printWhenExpression><![CDATA[$F{item_description}.length() <= 200]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="Left" markup="styled">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{item_description}.replace("\n", "")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="768" y="175" width="57" height="205"/>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="Left" markup="styled">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{doc_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="780" y="4" width="40" height="376">
					<printWhenExpression><![CDATA[$F{item_description}.length() > 200]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="Left" markup="styled">
					<font fontName="Monospaced" size="6" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{item_description}.replace("\n", "")]]></textFieldExpression>
			</textField>
		</band>
	</background>
	<pageHeader>
		<band height="237" splitType="Stretch"/>
	</pageHeader>
	<detail>
		<band height="20">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="25" y="0" width="289" height="16"/>
				<box topPadding="0" rightPadding="0"/>
				<textElement textAlignment="Left" verticalAlignment="Top" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{item_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" x="314" y="0" width="41" height="16"/>
				<box rightPadding="3"/>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{product_qty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" mode="Transparent" x="398" y="0" width="289" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<box topPadding="0" rightPadding="0"/>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{item_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="355" y="0" width="40" height="16"/>
				<textElement textAlignment="Left" verticalAlignment="Top" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{product_uom}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" mode="Transparent" x="687" y="0" width="41" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<box rightPadding="3"/>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{product_qty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement positionType="Float" mode="Transparent" x="728" y="0" width="40" height="16" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="none">
					<font fontName="Monospaced" size="8" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{product_uom}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="107"/>
	</columnFooter>
	<pageFooter>
		<band height="105" splitType="Stretch"/>
	</pageFooter>
</jasperReport>
